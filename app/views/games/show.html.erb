<%= link_to 'Вернуться', :back %>

<% if @game.success %>
  <h1>Game replay:</h1>

<!-- Элемент страницы, отвечающий за игровое поле в целом -->
  <div class="board">
    <!-- Игровое поле первого игрока -->
    <div class="field" id="P1">
      <!-- Вложенный цикл, отображающий поле 10х10 элементов -->
      <% 10.times do |y| %>
        <div class="field-row">
          <% 10.times do |x| %>
            <button class="square" id="<%= "P1_#{x}_#{y}" %>"/>
          <% end %>
        </div>
      <% end %>
    </div>

    <!-- Игровое поле второго игрока -->
    <div class="field" id="P2">
      <!-- Вложенный цикл, отображающий поле 10х10 элементов -->
      <% 10.times do |y| %>
        <div class="field-row">
          <% 10.times do |x| %>
            <button class="square" id="<%= "P2_#{x}_#{y}" %>"/>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>

  <p><strong>Winner:</strong> <%= @game.winner %></p>
  <p><strong>Game log:</strong></p>
  <pre><code><%= @game.game_log %></code></pre>

<% else %>
  <h1>Game status:</h1>

  <p><strong>Error:</strong></p>
  <pre><code><%= @game.game_error %></code></pre>
<% end %>

<%= javascript_tag "play(\"#{@game.log_with_linebreaks}\")" %>